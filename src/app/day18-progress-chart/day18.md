# Day 18: 学習進捗チャート

## 📊 プロジェクト概要

TOEICスコアの推移をグラフで可視化し、学習効果を客観的に確認できるアプリケーションを作成しました。Rechartsライブラリを使用して、インタラクティブな折れ線グラフと棒グラフを実装し、さまざまなデータフィルタリング機能を提供しています。

## 🎯 学習目標

- **Rechartsライブラリの使用方法**を習得する
- **データ可視化**の基本概念を理解する
- **配列データの操作と整形**を実践する
- **useMemoによる最適化**を学習する
- **TypeScriptでの複雑な型定義**を練習する

## 🛠️ 使用技術

- **React 19** - UI構築
- **TypeScript** - 型安全性
- **Next.js 15** - フレームワーク
- **Tailwind CSS** - スタイリング
- **Recharts** - グラフライブラリ

## 📋 実装した機能

### 1. グラフ表示機能
- **折れ線グラフ**: スコアの推移を時系列で表示
- **棒グラフ**: 各回のスコアを比較しやすい形で表示
- **レスポンシブ対応**: 画面サイズに応じた最適化
- **ツールチップ**: データポイントでの詳細情報表示
- **凡例**: グラフの系列説明

### 2. 統計情報カード
- **最新スコア**: 直近の受験結果
- **最高・最低スコア**: 過去の最良・最悪記録
- **平均スコア**: 全期間の平均値
- **改善度**: 初回から最新までの向上値
- **受験回数**: 総受験回数

### 3. チャート設定コントロール
- **グラフタイプ切替**: 折れ線グラフ・棒グラフ選択
- **データ系列選択**: リスニング・リーディング・総合スコア表示切替
- **時間範囲フィルター**: 全期間・1年・6ヶ月・3ヶ月
- **表示オプション**: データラベルの表示/非表示

### 4. データ管理
- **サンプルデータ**: 実際の学習進捗を模したTOEICスコア
- **フィルタリング**: 期間や条件に基づくデータ抽出
- **統計計算**: 各種統計値の自動算出

## 🎯 重要な学習ポイント

### 1. Rechartsライブラリの活用

```typescript
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  Legend,
  ResponsiveContainer
} from 'recharts';
```

**Rechartsの特徴:**
- **宣言的な記述**: HTMLライクな要素でグラフを定義
- **レスポンシブ対応**: ResponsiveContainerで自動サイズ調整
- **豊富なカスタマイズ**: 色、スタイル、アニメーション設定
- **TypeScript対応**: 型安全性を保ったグラフ作成

### 2. データ変換とフィルタリング

```typescript
// 生データをチャート用に変換
export const convertToChartData = (scores: TOEICScore[]): ChartDataPoint[] => {
  return scores
    .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())
    .map(score => ({
      date: score.date,
      listening: score.listeningScore,
      reading: score.readingScore,
      total: score.totalScore,
      formattedDate: formatDate(score.date)
    }));
};
```

**データ処理のポイント:**
- **ソート**: 日付順でデータを並び替え
- **フォーマット**: 表示用データの整形
- **フィルタリング**: 条件に応じたデータ抽出
- **統計計算**: 平均値、最大値、最小値の算出

### 3. useMemoによるパフォーマンス最適化

```typescript
// 計算量の多い処理をメモ化
const chartData = useMemo(() => {
  return convertToChartData(filteredScores);
}, [filteredScores]);

const statistics = useMemo(() => {
  return calculateStatistics(filteredScores);
}, [filteredScores]);
```

**useMemoの効果:**
- **再計算の防止**: 依存値が変わらない限り再実行しない
- **パフォーマンス向上**: 重い計算を最小限に抑制
- **メモリ効率**: 結果をキャッシュして再利用

### 4. TypeScriptでの型設計

```typescript
// 複雑なデータ構造の型定義
export interface TOEICScore {
  id: string;
  date: string;
  listeningScore: number;
  readingScore: number;
  totalScore: number;
  testType: 'TOEIC L&R' | 'TOEIC Bridge' | 'TOEIC IP';
  memo?: string;
}

export interface ChartConfig {
  type: ChartType;
  showListening: boolean;
  showReading: boolean;
  showTotal: boolean;
  showDataLabels: boolean;
  timeRange: 'all' | '1year' | '6months' | '3months';
}
```

## 🎨 UI/UXデザインのポイント

### 1. 色の体系的使用
- **ブルー系**: リスニングスコア
- **グリーン系**: リーディングスコア
- **パープル系**: 総合スコア
- **グラデーション**: 背景とカードで奥行き表現

### 2. レスポンシブレイアウト
- **グリッドシステム**: lg以上で4列、それ以下で1列
- **フレックスボックス**: 要素の配置と調整
- **メディアクエリ**: 画面サイズに応じた最適化

### 3. インタラクティブ要素
- **ホバー効果**: ボタンやカードの状態変化
- **トランジション**: スムーズなアニメーション
- **フォーカス状態**: アクセシビリティ対応

## 📈 実際の開発現場での応用

### 1. ダッシュボード開発
- **KPI表示**: 重要指標の可視化
- **トレンド分析**: 時系列データの推移確認
- **フィルタリング**: 期間や条件での絞り込み

### 2. 分析ツール
- **データ探索**: インタラクティブなグラフ操作
- **比較分析**: 複数データ系列の同時表示
- **エクスポート**: グラフ画像やデータの出力

### 3. レポート機能
- **自動更新**: リアルタイムデータの反映
- **カスタマイズ**: ユーザー設定に応じた表示
- **共有機能**: チームでの情報共有

## 🔍 今後の拡張可能性

### 1. 高度なグラフ機能
- **エリアチャート**: 面積で表現する推移グラフ
- **散布図**: 相関関係の可視化
- **レーダーチャート**: 多次元データの表示

### 2. データ管理機能
- **データ入力フォーム**: 新しいスコアの追加
- **データ編集**: 既存データの修正機能
- **データエクスポート**: CSV、PDF出力

### 3. 分析機能
- **予測機能**: 機械学習による将来予測
- **目標設定**: 目標スコアと進捗管理
- **学習効果測定**: 学習時間とスコア向上の相関

## 💡 まとめ

Day 18では、Rechartsライブラリを使用してデータ可視化アプリケーションを作成しました。この経験を通じて、以下の重要なスキルを習得できました：

- **グラフライブラリの効果的な活用**
- **データ処理と変換の実装**
- **パフォーマンス最適化の手法**
- **TypeScriptでの型安全な開発**
- **レスポンシブなUI設計**

データ可視化は現代のWeb開発において非常に重要なスキルです。ユーザーが大量のデータを直感的に理解できるインターフェースを提供することで、より価値のあるアプリケーションを作ることができます。

次回のDay 19では、さらに複雑なインタラクションを持つアプリケーションに挑戦していきましょう！ 